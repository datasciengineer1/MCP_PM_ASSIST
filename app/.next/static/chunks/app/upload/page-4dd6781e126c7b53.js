(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{32403:function(e,s,t){Promise.resolve().then(t.bind(t,51056))},51056:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(57437),a=t(2265),l=t(85598),o=t(66070),i=t(62869),n=t(32759),d=t(35974),c=t(41671),u=t(49322),p=t(69658),m=t(17689),x=t(32489),f=t(35153),h=t(76443),g=t(25120);function j(){let[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)(!1),{toast:b}=(0,f.pm)(),N=(0,a.useCallback)(async e=>{let t=e.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:e.size,status:"uploading",progress:0}));for(let r of(s(e=>[...e,...t]),j(!0),e)){let e=t.find(e=>e.name===r.name)?.id;if(e)try{let t=new FormData;t.append("file",r);let a=setInterval(()=>{s(s=>s.map(s=>s.id===e&&s.progress<90?{...s,progress:s.progress+10}:s))},200),l=await fetch("/api/upload",{method:"POST",body:t});if(clearInterval(a),l.ok)s(s=>s.map(s=>s.id===e?{...s,status:"processing",progress:100}:s)),setTimeout(()=>{s(s=>s.map(s=>s.id===e?{...s,status:"completed"}:s))},1500);else{let t=await l.json();s(s=>s.map(s=>s.id===e?{...s,status:"error",error:t.error||"Upload failed",progress:0}:s))}}catch(t){console.error("Upload error:",t),s(s=>s.map(s=>s.id===e?{...s,status:"error",error:"Upload failed",progress:0}:s))}}j(!1)},[]),{getRootProps:v,getInputProps:S,isDragActive:w}=(0,l.uI)({onDrop:N,accept:{"text/plain":[".txt"],"text/csv":[".csv"],"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxSize:10485760}),y=e=>{s(s=>s.filter(s=>s.id!==e))},T=t=>{e.find(e=>e.id===t)&&s(e=>e.map(e=>e.id===t?{...e,status:"uploading",progress:0,error:void 0}:e))},O=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},E=e=>{switch(e){case"completed":return"bg-green-500";case"error":return"bg-red-500";case"processing":return"bg-blue-500";case"uploading":return"bg-yellow-500";default:return"bg-gray-500"}},_=e=>{switch(e){case"completed":return(0,r.jsx)(c.Z,{className:"w-4 h-4"});case"error":return(0,r.jsx)(u.Z,{className:"w-4 h-4"});default:return(0,r.jsx)(p.Z,{className:"w-4 h-4"})}};return(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(h.Sidebar,{className:"hidden lg:block"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(g.Header,{title:"File Upload",subtitle:"Upload documents to analyze and extract project requirements"}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[(0,r.jsxs)(o.Zb,{className:"mb-6",children:[(0,r.jsxs)(o.Ol,{children:[(0,r.jsx)(o.ll,{children:"Upload Files"}),(0,r.jsx)(o.SZ,{children:"Drag and drop files here or click to browse. Supported formats: PDF, DOC, DOCX, TXT, CSV, XLS, XLSX"})]}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{...v(),className:`
              border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
              ${w?"border-blue-400 bg-blue-50 dark:bg-blue-950":"border-gray-300 hover:border-gray-400"}
            `,children:[(0,r.jsx)("input",{...S()}),(0,r.jsx)(m.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),w?(0,r.jsx)("p",{className:"text-lg",children:"Drop the files here..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg mb-2",children:"Drag & drop files here"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"or"}),(0,r.jsx)(i.z,{variant:"outline",disabled:t,type:"button",onClick:e=>{e.stopPropagation()},children:"Browse Files"})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-4",children:"Maximum file size: 10MB"})]})})]}),e.length>0&&(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[(0,r.jsx)(o.ll,{children:"Upload Progress"}),(0,r.jsx)(o.SZ,{children:"Track the status of your uploaded files"})]}),(0,r.jsx)(o.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[_(e.status),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,r.jsx)(d.C,{className:`${E(e.status)} text-white`,children:e.status})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:O(e.size)}),"uploading"===e.status&&(0,r.jsx)(n.E,{value:e.progress,className:"mt-2"}),e.error&&(0,r.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",e.error]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["error"===e.status&&(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>T(e.id),children:"Retry"}),(0,r.jsx)(i.z,{size:"sm",variant:"ghost",onClick:()=>y(e.id),disabled:"uploading"===e.status,children:(0,r.jsx)(x.Z,{className:"w-4 h-4"})})]})]},e.id))})})]})]})})]})]})}},32759:function(e,s,t){"use strict";t.d(s,{E:function(){return i}});var r=t(57437),a=t(2265),l=t(60610),o=t(94508);let i=a.forwardRef(({className:e,value:s,...t},a)=>(0,r.jsx)(l.fC,{ref:a,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,r.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));i.displayName=l.fC.displayName},35153:function(e,s,t){"use strict";t.d(s,{pm:function(){return p}});var r=t(2265);let a=0,l=new Map,o=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},i=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},n=[],d={toasts:[]};function c(e){d=i(d,e),n.forEach(e=>{e(d)})}function u({...e}){let s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,s]=r.useState(d);return r.useEffect(()=>(n.push(s),()=>{let e=n.indexOf(s);e>-1&&n.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[980,797,585,570,971,117,744],function(){return e(e.s=32403)}),_N_E=e.O()}]);